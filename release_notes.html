
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Release notes &mdash; xia2  documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/xia2.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/dials_icon.png"/>
    <link rel="top" title="xia2  documentation" href="index.html" />
    <link rel="next" title="xia2 license" href="license.html" />
    <link rel="prev" title="Acknowledgements" href="acknowledgements.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
<!--   <div class="logoheader container"> -->
<!--   <a href="index.html"> -->
<!--   <img class="logoheader" alt="DIALS" src="_static/dials_header.png" /> -->
<!--   </a> -->
<!--   </div> -->
  

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="license.html" title="xia2 license"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="acknowledgements.html" title="Acknowledgements"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">xia2  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="release-notes">
<h1>Release notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="changes-since-0-3-8-0">
<h2>Changes since 0.3.8.0<a class="headerlink" href="#changes-since-0-3-8-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Removed references to scala - rarely used command line
option scala secondary now aimless secondary.</li>
<li>Fixed processing of MAD data with AIMLESS.</li>
<li>Removed rather a lot of clutter, of things which were once a good
idea but never followed through with...</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-7-0-added-dials-mostly">
<h2>Changes since 0.3.7.0: Added DIALS (mostly)<a class="headerlink" href="#changes-since-0-3-7-0-added-dials-mostly" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Added support for <a class="reference external" href="http://dials.sourceforge.net">DIALS</a> software. Thanks to Richard Gildea at Diamond for
most of the work.</li>
<li>Create AIMLESS xml output; useful for displaying results
through alternative interfaces.</li>
<li>Squashed nasty bug where input spacegroup set to e.g. I222 but
pointgroup derived to be P222 (think this one was reported a while
back but I could not find the source at the time... sorry!)</li>
<li>Squashed some other bugs which have appeared in recent history.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-6-3-bug-fixes-add-cc-half-removing-scala">
<h2>Changes since 0.3.6.3: Bug fixes, add CC-half, removing Scala.<a class="headerlink" href="#changes-since-0-3-6-3-bug-fixes-add-cc-half-removing-scala" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>-cc_half 0.5 (say) resolution limit criterion available -
suggest set -misigma 0.5 -isigma 0.5 or similar with this.</li>
<li>-freer_file where free flag != FreeR_flag fixed.</li>
<li>Massively trimmed all of the command line options for the
pipelines and removed the use of Scala in all pipelines, replaced
with Aimless (not before time!) This means that -3dr and so forth
<em>will no longer work</em> so please use -2d, -3d, -3di etc.</li>
<li>-phil command line option now deprecated: phil parameters passed
on the command-line will be respected, also phil files, without this
clue</li>
<li>Parallelisation options: can now cleanly process sweeps from one
wavelength in parallel (to aid with multi-crystal data sets) use
Phil parameters njob=4 nproc=12 mode=parallel (say) to allow processing
four sweeps at a time each using 12 cores <a class="footnote-reference" href="#f0-3-6-3" id="id1">[1]</a>.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-6-2-cope-with-new-ccp4">
<h2>Changes since 0.3.6.2: Cope with new CCP4.<a class="headerlink" href="#changes-since-0-3-6-2-cope-with-new-ccp4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Mend xia2 working on Windows.</li>
<li>Cope with new version of CTRUNCATE in CCP4 6.4.0.</li>
<li>xia2ccp4i added - thanks to David Waterman.</li>
<li>Improved handling of nasty image names.</li>
<li>Mend -reversephi functionality.</li>
<li>Take spacegroup from reference reflection file correctly.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-6-1-new-xds-etc">
<h2>Changes since 0.3.6.1: New XDS etc.<a class="headerlink" href="#changes-since-0-3-6-1-new-xds-etc" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Default 1 pixel for XDS spot finding for indexing.</li>
<li>Remove need for XIA2 environment variables.</li>
<li>Add capability to override cctbx.python location.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-5-2-dealing-with-huge-data-sets">
<h2>Changes since 0.3.5.2: dealing with huge data sets<a class="headerlink" href="#changes-since-0-3-5-2-dealing-with-huge-data-sets" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>If single sweep, do not rebatch.</li>
<li>Replace CCP4 Mtzdump with CCTBX-powered equivalent.</li>
<li>If reindex for changing spacegroup name but not indices
(i.e. no REINDEX= card) then use CCTBX-powered replacement.</li>
<li>Cleaned up repository by pulling xia2core into
xia2/core.</li>
<li>Patched against dxtbx being included in Phenix. (temporary)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-5-1-ccp4-patch-release">
<h2>Changes since 0.3.5.1: CCP4 patch release<a class="headerlink" href="#changes-since-0-3-5-1-ccp4-patch-release" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Resolution limit calculation now delegated to resolutionizer.</li>
<li>Twinning test now uses CCTBX code not sfcheck.</li>
<li>PythonDriver added to support execution of Python code as separate
process.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-5-0">
<h2>Changes since 0.3.5.0<a class="headerlink" href="#changes-since-0-3-5-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>-hdr_in mode - pass in text file containing image
header. Can also generate this file with xia2 with -hdr_out example.hdr</li>
<li>-xparm_ub mode for XDS processing only, provide a UB matrix (XDS
XPARM file) to match the orientation to: primarily useful if you record
data from several regions on a sample, and the sample has close-to
symmetry (i.e. you almost certainly don&#8217;t need this)</li>
<li>Removed usage of BINSORT_SCR as this is being deprecated by CCP4.</li>
<li>Allow Phil overrides on selection of autoindexing solutions, where
indexing can give large variations in unit cell constants (e.g. low
resolution virus data)</li>
<li>Properly set the resolution in CAD copying free R flags.</li>
<li>Allow access to profile grid size through the Phil interface:
<tt class="samp docutils literal"><span class="pre">xds.parameter.profile_grid_size=13,13</span></tt></li>
<li>Implement TRUSTED_REGION through Phil as suggested by Luca Jovine</li>
<li>Updates to process simulated data from SIM_MX</li>
<li>More measures of anomalous signal in output.</li>
<li>Corrected citations in output</li>
<li>Replaced TRUNCATE with CTRUNCATE.</li>
<li>Replace sfcheck with E^4 calculation from cctbx.</li>
<li>Exclude grid-scan data when running automatic setup.</li>
<li>If XDS refinement not performed, exception not warning.</li>
<li>If -3d and sweep narrower than 10 degrees, use XDS II indexer.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-4-0">
<h2>Changes since 0.3.4.0<a class="headerlink" href="#changes-since-0-3-4-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Additional information in output: correct directory for BINSORT_SCR,
free space in working directory, warns if less than 200MB in
BINSORT_SCR directory.</li>
<li>EXCLUDE keyword added to XINFO SWEEP block to allow
specific resolution ranges to be excluded in processing,
contributed by Andrew Perry at Monash University.</li>
<li>Include the resolution limits at the XSCALE stage rather
than simply in the merging.</li>
<li>Support for 2x2 binned ADSC Quantum 270 detector.</li>
<li>Support for &#8216;.&#8217; in file names.</li>
<li>Support for NOIR1 detector on ALS 4.2.2</li>
<li>Smarter 3dii mode - if 3di style indexing will give better answer,
it will do that...</li>
<li>Use ctruncate in place of truncate (finally!)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-3-4">
<h2>Changes since 0.3.3.4<a class="headerlink" href="#changes-since-0-3-3-4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Use Phil to override XDS parameters.</li>
<li>Use Pointless in place of Reindex; Aimless in place of Scala; no
limit to number of batches which can be processed.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-3-3">
<h2>Changes since 0.3.3.3<a class="headerlink" href="#changes-since-0-3-3-3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Fixed bug in polarization correction vector for Pilatus data.</li>
<li>Fixed bug relating to assigning spacegroup on command-line.</li>
<li>Begun work on supporting Pilatus 300K for small molecule
crystallography. Have now successfully processed data from Diamond
Light Source beamline I19 EH2. N.B. Only works -3dii!</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-3-2">
<h2>Changes since 0.3.3.2<a class="headerlink" href="#changes-since-0-3-3-2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Many bug fixes as a result of implementing a comprehensive testing scheme.</li>
<li>Support for full cbf format, making use of cbflib Python bindings
pycbf now included in cctbx releases.</li>
<li>Merged functionality from XDSIntegraterR into XDSIntegrater, removed
duplicate code. Will make for more maintainable suite in the future.</li>
<li>Improved 2d pipeline scaling, now tests 8 permutations.</li>
<li>Improved handling of twinned data for multiple sweeps.</li>
<li>Fixed occasional bugs with multiple sweeps, reindexing trigonal
data sets with XDS.</li>
<li>Removed &#8220;old&#8221; scaling modes, 2d and 3d, as these were unhelpful.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-3-1">
<h2>Changes since 0.3.3.1<a class="headerlink" href="#changes-since-0-3-3-1" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>-xparallel -1 option added which will split your data into 30 degree
chunks and process with forkintegrate.
<em>Note well you are responsible for setting up forkintegrate correctly!</em></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-3-0">
<h2>Changes since 0.3.3.0<a class="headerlink" href="#changes-since-0-3-3-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Handle division in updated CCTBX.</li>
<li>Squash bug with -3d and -resolution.</li>
<li>Squash bug with resolution and -2d, result slightly different to
that reported.</li>
<li>Trap weirdness with XDS reindexing, causes problems sometimes
trying to process in C2 from P222 not P2 as you would hope!</li>
<li>Adjustments to cope with excludively narrow sweeps i.e. all 3
image sweeps.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-2-0">
<h2>Changes since 0.3.2.0<a class="headerlink" href="#changes-since-0-3-2-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Support for new XDS build.</p>
</li>
<li><p class="first">Small bug fix / improvement in XDS indexer implementation.</p>
</li>
<li><p class="first">Capability to ptovide refined experimental geometry <em>via</em>
XDS GXPARM.XDS - useful for polycrystal data reduction.</p>
</li>
<li><p class="first">Now check what you tell the program, viz:</p>
<div class="highlight-python"><div class="highlight"><pre>gw56@ws050 nonsense]$ xia2 -3d -nonsense /data/gw56/dl/Cowan/Insulin/insulin/
Traceback (most recent call last):
  File &quot;/home/gw56/svn/xia2/Applications/xia2.py&quot;, line 45, in
    from xia2setup import write_xinfo
  File &quot;/home/gw56/svn/xia2/Applications/xia2setup.py&quot;, line 35, in
    from Handlers.CommandLine import CommandLine
  File &quot;/home/gw56/svn/xia2/Handlers/CommandLine.py&quot;, line 1513, in
    CommandLine.setup()
  File &quot;/home/gw56/svn/xia2/Handlers/CommandLine.py&quot;, line 349, in setup
    raise RuntimeError, nonsense
RuntimeError: Unknown command-line options: -nonsense
</pre></div>
</div>
<p>and complain if you type in something xia2 does not understand.</p>
</li>
<li><p class="first">Removed a <em>lot</em> of cruft from the xia2 code base in preparation
for some more substantial refactoring.</p>
</li>
<li><p class="first">Found bug which meant that the labelit beam centre computed in the
setup phase was not used - mostly this is not important, unless you are
using -3dii.</p>
</li>
<li><p class="first">Added -ice command-line argument, which will exclude measurements
from regions which are typically where ice rings land. Will need to
add more subtle mechanism which will allow specific regions to be
excluded.</p>
</li>
<li><p class="first">Specifying resolution with 3d(r) pipeline now works correctly.</p>
</li>
<li><p class="first">Removed XDS version check by default, which was annoying every new
year. If you would like to check that the XDS version is explicitly
supported, add -check_xds_version to the command-line.</p>
</li>
<li><p class="first">Added table of scala runs to sweep name in the debug output, helpful
for reviewing in polycrystal data reduction cases.</p>
</li>
<li><p class="first">Mosaic spread used from Mosflm is now average of all images, not the
first or last image.</p>
</li>
<li><p class="first">Fixed header reading for new Pilatus instruments at DLS and
elsewhere.</p>
</li>
<li><p class="first">Added capacity to pass in known globally postrefined experimental
setup via -xparm GXPARM.XDS, only useful with XDS processing
pipelines.</p>
</li>
<li><p class="first">Removed use of ccp4 printpeaks tool, which crashes on new pilatus
images, replace with Mosflm for the moment. Move to replacement with
labelit code at later stage planned.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-1-7">
<h2>Changes since 0.3.1.7<a class="headerlink" href="#changes-since-0-3-1-7" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Now report the min, mean, max mosaic spread (according to the
<em>program definitions</em> after integration of each sweep.</li>
<li>Resolved problems with overriding environment.</li>
<li>Added -serial pun for -parallel 1.</li>
<li>Allow resolution limit to be assigned on a per-sweep basis.</li>
<li>Handled corner case with images 200 - 250 (say) giving REBATCH
error.</li>
<li>Added full 8-way search for scaling models for 2d pipelines.</li>
<li>Partial support for two-theta offset data collection (tested with
Rigaku X-ray equipment and Diamond I19 data.)</li>
<li>Added -min_images keyword which is helpful when analysing virus data
with e.g. 4 images / sweep.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-1-6">
<h2>Changes since 0.3.1.6<a class="headerlink" href="#changes-since-0-3-1-6" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Changes suitable for working on microcrystals - reachable through
a -microcrystal command line flag, and -failover is probably helpful
too.</li>
<li>If lattice or spacegroup specified, do not run tests.</li>
<li>2dr and 3dr now the default pipelines - use 2dold or 3dold if you
need to get to the old pipelines.</li>
<li>Fixed selection of known lattice in IDXREF reindexing.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-1-0">
<h2>Changes since 0.3.1.0<a class="headerlink" href="#changes-since-0-3-1-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Fixed bug where the resolution limit was not reset in an indexer
solution elimination.</p>
</li>
<li><p class="first">Added support for XDS from Dec 09.</p>
</li>
<li><p class="first">Fixed some of the issues found in the resolution limit determination
when processing low resolution data.</p>
</li>
<li><p class="first">Fixed use of I/sigma limit assignment.</p>
</li>
<li><p class="first">Added command-line control of individual indexer, integrater,
scaler.</p>
</li>
<li><p class="first">Repaired regular expression for image matching, to cope with
images where there is e.g. 3.5 in the template. This was previously
misinterpreted as an image name of the form setup.NNNN.</p>
</li>
<li><p class="first">Implemented new resolution limit pipelines, based on new merging code
to give more robust control: -2dr and -3dr (recommended.) Fine
control over the choices can be made using the -isigma, -misigma,
-completeness and -rmerge command line options.</p>
</li>
<li><p class="first">Added interactive indexing mechanism, where user can assign images
to use for autoindexing, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>Existing images for indexing: 1, 90, 180
&gt;1, 60, 120, 180
New images for indexing: 1, 60, 120, 180
</pre></div>
</div>
<p>Assign -interactive on the command line (Mosflm and Labelit indexers)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-0-6">
<h2>Changes since 0.3.0.6<a class="headerlink" href="#changes-since-0-3-0-6" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Added -xparallel command line option to allow use of forkinitegrate
on a cluster with the 3d pipeline.</p>
</li>
<li><p class="first">Allow for xia2html and (beta) ISPyB output (latter more useful for
synchrotron sources, former handy if you want a report.</p>
</li>
<li><p class="first">Smart scaling mode switched on by default.</p>
</li>
<li><p class="first">Chef now run by default, for radiation damage analysis, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>Group 1: 2-wedge data collection
Group 2: Single wedge
Significant radiation damage detected:
Rd analysis (12287/LREM): 15.17
Rd analysis (12287/INFL): 7.89
Rd analysis (12287/PEAK): 12.82
Conclusion: cut off after DOSE ~ 608.8
</pre></div>
</div>
</li>
<li><p class="first">Blank images now handled more gracefully.</p>
</li>
<li><p class="first">Overloaded and blank images now correctly reported in the summary
output, along with abandoned images for the processing with
Mosflm. Also postrefinement results.</p>
</li>
<li><p class="first">Substantially cleaned up the program output.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-0-5">
<h2>Changes since 0.3.0.5<a class="headerlink" href="#changes-since-0-3-0-5" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>No lattice test mode added (you can guess the command-line option)
for tricky data sets where this perhaps falls over.</li>
<li>Fixed side effect of changes which allowed setting of unit cell
etc. - lattices were no longer eliminated, failed complaining
can&#8217;t eliminate only solution.</li>
<li>Tidied up the generation of output files and so on - now only have
the main log file and the debug trace.</li>
<li>Added copy of the command line to program output.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-0-4">
<h2>Changes since 0.3.0.4<a class="headerlink" href="#changes-since-0-3-0-4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Now able to specify number or fraction of reflections assigned to
the free set, rather than the default 5 percent.</li>
<li>Added trap for sdcorrection not being refined in XDS correct if
multiplicity rather low. Unusual case.</li>
<li>Assigning a freer_file by definition sets this as an indexing
reference and also copies the spacegroup assignment. This is
what you would expect!</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-0-3">
<h2>Changes since 0.3.0.3<a class="headerlink" href="#changes-since-0-3-0-3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">User now able to assign cell constants: use with great care, as
there is little in the way of nonsense trapping. This may however
be used to handle cases where the solution you want is monoclinic
with a pseudo-orthorhombic lattice, where the default indexing would
select a different setting. This will not currently work with a
Mosflm indexer. Usage is:</p>
<div class="highlight-python"><div class="highlight"><pre>-cell a,b,c,alpha,beta,gamma
</pre></div>
</div>
<p>and the correct symmetry should also be assigned. Can also assign
USER_CELL a b c alpha beta gamma in the xinfo file.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-3-0-0">
<h2>Changes since 0.3.0.0<a class="headerlink" href="#changes-since-0-3-0-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Now automatically determine the number of available processor
cores.</li>
<li>Implemented check for centring of crystallographic basis from
autoindexing.</li>
<li>Started to use CCTBX - this will be bundled with the release
from now on...</li>
<li>Now runs &#8220;smart scaling&#8221; i.e. will customise the scaling model
used to the data. This can seriously improve the xia2 run time in
cases where some of the default scaling models do not converge.</li>
<li>Now also includes running of CHEF for radiation damage, which will
slice and dice your data into dose groups, then run a correctly
time sequenced radiation damage analysis. N.B. for data measured in
&#8220;dose mode&#8221; the doses will be scaled to &amp;lt; 1,000,000 to ensure that
the output is tidy.</li>
<li>Corner case of running XDS pipelines from data from a Rigaku setup.
The low resolution was previously calculated to be 0.0! D&#8217;oh!</li>
<li>Added access to reference reflection file functionality to the
command line - -reference_reflection_file foo.mtz.</li>
<li>Fixed the use of the -image command-line option. Now works.</li>
<li>Removed all of the binaries from the distribution, so now
<strong>you need to be using CCP4 6.1.0 or later!</strong></li>
<li>Will correctly handle reindexing with the 3d pipeline (XDS/XSCALE)
with trigonal spacegroups and multiple sweeps.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-7-2">
<h2>Changes since 0.2.7.2<a class="headerlink" href="#changes-since-0-2-7-2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Fixed merging statistics bug - I/sigma output were very slightly
different.</li>
<li>Now extend FreeR column if copying from lower resolution input
file.</li>
<li>Detector limits now correctly specified around the detector centre
for Mosflm, rather than the beam centre. Only useful if your beam
centre is a fair way from the image centre...</li>
<li>Parallelised integration with Mosflm - divides the sweeps into an
appropriate number of chunks and then sorts together the resulting
reflection files. -parallel N, remember.</li>
<li>Added a putative &#8216;small molecule&#8217; mode, which will autoindex with
Mosflm from a modest number of images, for smaller molecules where
Labelit is unhappy with the number of good Bragg reflections.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-7-0">
<h2>Changes since 0.2.7.0<a class="headerlink" href="#changes-since-0-2-7-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Fixed to work correctly with XDS and Rigaku Saturn/RAXIS
detectors.</li>
<li>Better determination of resolution limits.</li>
<li>Correct merging of data from XSCALE (needs to invert the I=F*F
scale factor...)</li>
<li>Fixed output of scalepack unmerged output using 3d pipeline.</li>
<li>Use fewer frames for background calculation with 3dii pipeline -
speeds things up a fair amount.</li>
<li>Write chef output files with correct SD correction parameters.</li>
<li>Print SD correction factors for scala runs - if these are bigger
than about 2 there is something properly wrong. Also print the
same from XDS CORRECT step.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-6-6">
<h2>Changes since 0.2.6.6<a class="headerlink" href="#changes-since-0-2-6-6" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">All command line options now echoed to the standard output if
-debug selected.</p>
</li>
<li><p class="first">Command line options now copied to .xinfo file when operating in
automatic mode.</p>
</li>
<li><p class="first">XDS: low resolution limit determined from spot list from
IDXREF.</p>
</li>
<li><p class="first">Now include explicit python version check in xia2 main program.</p>
</li>
<li><p class="first">High resolution limits for integration now assessed from Wilson
plot rather than integration program log output.</p>
</li>
<li><p class="first">If no images are given, a more helpful error message is produced
than before, viz:</p>
<div class="highlight-python"><div class="highlight"><pre>------------------------------------------
| No images assigned for crystal DEFAULT |
------------------------------------------
</pre></div>
</div>
</li>
<li><p class="first">If images are not readable (i.e. a permissions problem) then
warnings will be sent to the debug channel (switch on -debug
for more information.)</p>
</li>
<li><p class="first">If in automatic mode an image is given in place of a directory,
xia2 will now complain in a more helpful way.</p>
</li>
<li><p class="first">Resolution limits will now be based on analysis of the reflection
files rather than the program output, since this will generally give
a more helpful answer...</p>
</li>
<li><p class="first">Now correctly set the reindex matrix for running correct with
multiple sweeps of data for non primitive matrix (subtle bug,
thanks to Kay Diederichs for helping to fix this one.)*</p>
</li>
<li><p class="first">Is images are missing from a sweep, xia2 will now tell you
this before starting processing rather than giving a strange error -
if the images are unreadable you will also be told.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-6-5">
<h2>Changes since 0.2.6.5<a class="headerlink" href="#changes-since-0-2-6-5" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Now supports CCP4 6.1 (forthcoming release) though you may need
to add XIA2_CCP4_61=1 to your environment. This release should include
xia2.</li>
<li>Added -user_resolution keyword, also support for this on a
per-wavelength basis in the xinfo file.</li>
<li>Added support for reverse-phi data collection - either add
reversephi to the xinfo file or -reversephi to the command line.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-6-4">
<h2>Changes since 0.2.6.4<a class="headerlink" href="#changes-since-0-2-6-4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Now handles complex image names with e.g. + in them correctly.</li>
<li>New option for processing <tt class="samp docutils literal"><span class="pre">-3dii</span></tt> added - this will run
the 3D pipeline (XDS, XSCALE) using all images for spot picking and
autoindexing - useful for properly tricky cases.</li>
<li>Now correctly propogate the profile information to Mosflm when not
using Mosflm for autoindexing - this is done by running a &#8220;fake&#8221;
autoindexing task.</li>
<li>Use the raster information for the cell refinement test, and changed
the selection of images for this.</li>
<li>Added support for the output of BioXHIT XML in the LogFiles
directory - for project tracking.</li>
<li>Now copy the XDS log files (&#8220;LP&#8221; files) into the LogFiles
directory - as always these are the most up-to-date versions from
processing.</li>
<li>Added support for latest release of XDS (June 2, 2008.)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-6-3">
<h2>Changes since 0.2.6.3<a class="headerlink" href="#changes-since-0-2-6-3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Added possibility to give a reflection file with an existing
FreeR_flag column, which will be copied to the output MTZ:</p>
<div class="highlight-python"><div class="highlight"><pre>xia2 -freer_file free.mtz
</pre></div>
</div>
<p>or...</p>
<div class="highlight-python"><div class="highlight"><pre>FREER_FILE free.mtz
</pre></div>
</div>
<p>in the xinfo file (in the same way as the reference reflection file -
indeed, this may be the same file...)</p>
</li>
<li><p class="first">Added command line control of the spacegroup - note well that this
means that the data WILL NOT be reindexed to a standard setting.</p>
</li>
<li><p class="first">Added support for ADSC Quantum 270.</p>
</li>
<li><p class="first">Intelligent selection of autoindex threshold for Mosflm.</p>
</li>
<li><p class="first">Added support for latest XDS version.</p>
</li>
<li><p class="first">Added support for pilatus 6M mini CBF images.</p>
</li>
<li><p class="first">Fixed problem with cell refinement giving negative mosaic
spreads sometimes for 2d pipeline.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-6-2">
<h2>Changes since 0.2.6.2<a class="headerlink" href="#changes-since-0-2-6-2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Now works for images with long image numbers, as typically
recorded on Rigaku X-Ray sets.</p>
</li>
<li><p class="first">Signed off for operation with Rigaku Saturn and RAXIS IV
detectors.</p>
</li>
<li><p class="first">Now works with no input, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>xia2 -project TG6623 -crystal X77788 -atom se /my/images/are/here
</pre></div>
</div>
<p>However this relies on your image headers being accurate and the
images having some kind of recognisable format...</p>
</li>
<li><p class="first">Repaired operation on ppc and intel macs - added required libraries
to the installation and reset the library paths appropriately.</p>
</li>
<li><p class="first">Slightly improved error reporting from xinfo file errors.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-6-1">
<h2>Changes since 0.2.6.1<a class="headerlink" href="#changes-since-0-2-6-1" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Now carefully select the images to use for cell refinement based
on the orientation of the crystal lattice.</li>
<li>Fixed numerous bugs to do with the naming of the detector class
which changed in the previous version.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-6-0">
<h2>Changes since 0.2.6.0<a class="headerlink" href="#changes-since-0-2-6-0" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Fixed bug where if the distance was read incorrectly from the
image header (or was wrong therein) XDS would get the wrong value
even if you had put the correct value in the .xinfo file.</li>
<li>Now &#8220;unroll&#8221; the unmerged reflections from XSCALE and then
merge them in their original sweeps in Scala. This should give
a useful Rmerge vs. time plot.</li>
<li>Including updated versions of Pointless and Scala.</li>
<li>Includes new and more robust handling of pointgroups, lattices
and unstable refinement of parameters during integration.</li>
<li>Include support for a reference reflection file, which will
ensure that the reflections are indexed in the same way and
with the same spacegroup - useful for mutants.</li>
<li>Now always use three wedges of images for the cell refinement
with Mosflm as this makes the lattice elimination more reliable.</li>
<li>If one of the images in a sweep is broken (e.g. corrupted)
xia2 will tell you more helpfully rather than just crashing.</li>
<li>Now correctly read distance from Mar 165 images. Thanks to
Francois Remacle for this fix to DiffractionImage.</li>
<li>Fixed the use of xia2 -3d with RAXIS IV detectors.</li>
<li>Use more images for Mosflm autoindexing (three instead of two)
as this gives uniformly better results.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-5-2">
<h2>Changes since 0.2.5.2<a class="headerlink" href="#changes-since-0-2-5-2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Now works for highly incomplete data sets, so long as you
have either 4 times the mosaic spread or 8 images, whichever
is the larger. This is to allow pointgroup identification
from e.g. the first 10 images in a data set - designed to assist
in synchrotron / lab source data collection.</p>
</li>
<li><p class="first">Now include the latest Mosflm binaries in the extras package -
these are often better than those in the CCP4 distribution,
as they come directly from Harry Powell&#8217;s web page.</p>
</li>
<li><p class="first">Added -ehtpx_xml_out option which will write out marked
up metadata about the data reduction, for inclusion in the
e-HTPX data reduction portal and, perhaps, other automated
systems. Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>xia2 -ehtpx_xml_out project.xml
</pre></div>
</div>
</li>
<li><p class="first">If data are very incomplete (e.g. less than 50% complete) then don&#8217;t
try to refine the error parameters. This is both incorrect and a
waste of time.</p>
</li>
<li><p class="first">Renamed the output reflection files - these are now in DataFiles
directory with names like &#8220;PROJECT_CRYSTAL_free.mtz.&#8221; This makes
them a little easier to identify.</p>
</li>
<li><p class="first">Harvesting (deposition) files now in subdirectory of Harvest
rather than being spread around the place. These will have
names Harvest/DepositFiles/PROJECT/WAVELENGTH.scala etc.</p>
</li>
<li><p class="first"><strong>Have now fixed xia2setup so it works much more sensibly - the</strong>
<strong>decision about when a new sweep starts was a little broken</strong>
<strong>(rounding errors issue) now fixed!</strong></p>
</li>
<li><p class="first">Added -parallel flag to work when using XDS for data reduction.</p>
</li>
<li><p class="first"><strong>Added XDS support!</strong> This is however much less mature than**
<strong>the support for Mosflm/CCP4. It is also worth noting that this</strong>
<strong>relies on many CCP4 tools.</strong></p>
</li>
<li><p class="first">Added selection of the &#8220;pipeline&#8221; to use through a command line
option, either -2d for mosflm/ccp4 or -3d for xds/xscale though
the latter still uses a number of CCP4 programs.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-5-1-big-changes-in-bold">
<h2>Changes since 0.2.5.1 - big changes in <strong>bold</strong><a class="headerlink" href="#changes-since-0-2-5-1-big-changes-in-bold" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><strong>Process data as native if no heavy atom information, only one</strong>
<strong>wavelength specified and no anomalous scattering form factors</strong>
<strong>provided. Otherwise separate anomalous pairs for scaling.</strong></li>
<li><strong>Added a -quick option to the xia2 command line, which will</strong>
<strong>cut out many of the data reduction optimisation steps (not</strong>
<strong>refine detector parameters, resolution or scaling parameters)</strong>
<strong>but will still include everything else. This is to allow quick</strong>
<strong>characterisation of data at the beamline, and perhaps map</strong>
<strong>calculation?</strong></li>
<li>Correctly print the unmerged scalepack file name for single
wavelength data.</li>
<li>Perform radiation damage analysis using R merge and B factor
as a function of <em>time</em> - note that this is not <em>batch.</em>
This is likely to have interesting side-effects.</li>
<li>If time of data collection not recorded in header <em>but</em>
the time stamp for the images are correct (e.g. you have not moved
them since collection) then the command line flag
<tt class="samp docutils literal"><span class="pre">-trust_timestamps</span></tt> can be used, which will use the
time stamps on the image files to analyse things like radiation
damage.</li>
<li>If you are running this on a cluster, have added an option
to migrate the diffraction data to a local disk (e.g. /tmp.)
To do this add <tt class="samp docutils literal"><span class="pre">-migrate_data</span></tt> to the command line -
the data will be removed from the local disk once the processing
is finished.</li>
<li>Copy all final reflection files to a DataFiles directory.</li>
<li>Now, when something goes horribly wrong, just write the actual
message to the screen and the horrible stack trace gunk to a file
called xia2.error. This should be sent in for error reports!</li>
<li>Remerge individual wavelengths to get the merging statistics to
the most appropriate resolution limit, rather than the furthest
extent of any data, for the summary table.</li>
<li>If GAIN included in SWEEP block, will be used as the default
value for integration. E.g. GAIN 0.25.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-5">
<h2>Changes since 0.2.5<a class="headerlink" href="#changes-since-0-2-5" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Fixed problem with spacegroup R3:H (naming convention problem
- there&#8217;s a surprise.)</p>
</li>
<li><p class="first">GAIN estimation temporarily removed.</p>
</li>
<li><p class="first">Pointgroup evaluation fixed - found a <strong>major</strong> gremlin in
there</p>
</li>
<li><p class="first">Allow environment variables and tilde in DIRECTORY token:</p>
<div class="highlight-python"><div class="highlight"><pre>DIRECTORY $DATA/example or ~/data or %DATA%/example (win32)
</pre></div>
</div>
</li>
<li><p class="first">Now tracks the citations for the programs used, writing them
to the standard output in plain text and to xia-citations.bib
in BIBTeX format.</p>
</li>
<li><p class="first">Removed [XIA2] tokens from standard output - the reason for
having this there no longer applies.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-4">
<h2>Changes since 0.2.4<a class="headerlink" href="#changes-since-0-2-4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>xia2setup will now add the f&#8217;, f&#8217;&#8217; values if a scan is available
and has been processed by chooch</li>
<li>GAIN now estimated by diffdump - enabling future parallelisation
of the integration stage.</li>
<li>For detectors formed as a mosaic of a number of tiles, with &#8220;gaps&#8221;
in between, now mask those gapped areas in Mosflm to reduce the
number of bad reflections.</li>
<li>Now has a fix for the ongoing indexing problem which gave rise
to errors like &#8220;something horrible has happened in indexing&#8221;.</li>
<li>The &#8220;best&#8221; log file for each process will now be recorded in a
LogFiles directory - which means no more hunting around for the
final scala log file and what not.</li>
<li>Chaling now produces unmerged reflection files in scalepack format
as well as merged scalepack and merged MTZ format. This is done by
scala (if used) by recycling the final SCALES and adding
&#8220;output polish unmerged.&#8221;</li>
<li>Now runs a twinning test using the CCP4 program sfcheck, and
will warn you if your data look twinned.</li>
<li>Now allow up to 100 cycles of scale refinement to cope with
more extreme cases where data at very different resolutions
are scaled together.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-3">
<h2>Changes since 0.2.3<a class="headerlink" href="#changes-since-0-2-3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Added &lt;a href=&#8221;preferences.html&#8221;&gt;preferences file&lt;/a&gt;</li>
<li>Added xia2setup program to create the .xinfo file - this will
also run LABELIT to configure the beam centre if it is installed</li>
<li>Added a strategy-of-data-reduction step to the pipeline</li>
<li>Added run-time check that CCP4 and so on are available</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-2-4">
<h2>Changes since 0.2.2.4<a class="headerlink" href="#changes-since-0-2-2-4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Changed to a BSD license</li>
<li>Added &#8220;python setup&#8221; check to xia2</li>
<li>Relaxed criteria on isomorphism to 1% not 0.5A etc.</li>
<li><strong>Now wavelengths in wavelength record will override header
values if provided, but do not (indeed, should not) be included
if wavelength values are correct.</strong></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-2-3">
<h2>Changes since 0.2.2.3<a class="headerlink" href="#changes-since-0-2-2-3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Created version for Power PC G4/G5</li>
<li>Fixed .csh setup scripts</li>
<li>If wavelength values not specified in the .xinfo file will use
values from the image headers</li>
<li>If loggraph output from scala is broken by having Mn(I/sigma)
greater than 99.99 can now cope (ignores that record)</li>
<li>Will now use a maximum of 180 degrees of data for deciding
e.g. the point group, spacegroup and correct indexing standards -
this helps the cases where exceptionally high redundancy data
has been measured</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-0-2-2-2">
<h2>Changes since 0.2.2.2<a class="headerlink" href="#changes-since-0-2-2-2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Updated printheader to cope with MAR 165</li>
<li>Cleaner error messages when data missing</li>
<li>Added support for MAR image plate data</li>
<li>Included more example .xinfo files in the examples directory</li>
<li>Relaxed refinement parameters in Mosflm cell refinement</li>
</ul>
</div></blockquote>
<table class="docutils footnote" frame="void" id="f0-3-6-3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>N.B. you may wait for a while until you see output - it
will all be cached while parallel processing is happening to avoid
it getting mangled.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/xia2-new-logo.gif" alt="Logo"/>
    
  </a>
</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_xia2.html">Using xia2</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="introductory_example.html">Introductory example</a></li>
<li class="toctree-l1"><a class="reference internal" href="insulin_tutorial.html">Insulin tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_crystal.html">Multi-crystal data</a></li>
<li class="toctree-l1"><a class="reference internal" href="program_output.html">Program output</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="comments.html">Comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="background.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer container">
  <a href="http://www.diamond.ac.uk/"><img class="logofooter" alt="Diamond" src="_static/diamond_logo.png" /></a>
  <a href="http://dials.diamond.ac.uk/"><img class="logofooter" alt="DIALS" src="_static/dials_logo_fx_transparent_bg.png" /></a>
  <a href="http://www.ccp4.ac.uk/"><img class="logofooter" alt="CCP4" src="_static/CCP4-logo-plain.png" /></a>
  </div>
  
    <div class="footer">
      &copy;2015, Diamond Light Source.
      
    </div>

    

    

  </body>
</html>