
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Introductory example &#8212; xia2  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" href="_static/xia2.css" type="text/css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Insulin tutorial" href="insulin_tutorial.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
<!--   <div class="logoheader container"> -->
<!--   <a href="index.html"> -->
<!--   <img class="logoheader" alt="DIALS" src="_static/dials_header.png" /> -->
<!--   </a> -->
<!--   </div> -->
  

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="introductory-example">
<h1>Introductory example<a class="headerlink" href="#introductory-example" title="Permalink to this heading">¶</a></h1>
<p>The most straightforward way to discuss the operation of the program is
through demonstrations with real examples. The first of these is a dataset
from a DNA / ligand complex recorded at Diamond Light Source as part of
ongoing research. The structure includes barium which may be used for
phasing, and the data were recorded as a single sweep. As may be seen
from Figure 2, the quality of diffraction was not ideal, and radiation damage
was an issue. Initially the data were processed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xia2</span> <span class="n">pipeline</span><span class="o">=</span><span class="mi">3</span><span class="n">d</span> <span class="o">-</span><span class="n">atom</span> <span class="n">Ba</span> <span class="o">/</span><span class="n">here</span><span class="o">/</span><span class="n">are</span><span class="o">/</span><span class="n">my</span><span class="o">/</span><span class="n">data</span>
</pre></div>
</div>
<p>giving the merging statistics shown below:</p>
<blockquote>
<div><table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>High resolution limit</p></td>
<td><p>1.25</p></td>
<td><p>6.45</p></td>
<td><p>1.25</p></td>
</tr>
<tr class="row-even"><td><p>Low resolution limit</p></td>
<td><p>18.85</p></td>
<td><p>18.85</p></td>
<td><p>1.27</p></td>
</tr>
<tr class="row-odd"><td><p>Completeness</p></td>
<td><p>95.2</p></td>
<td><p>60.1</p></td>
<td><p>70.2</p></td>
</tr>
<tr class="row-even"><td><p>Multiplicity</p></td>
<td><p>12.2</p></td>
<td><p>8.4</p></td>
<td><p>4.8</p></td>
</tr>
<tr class="row-odd"><td><p>I/sigma</p></td>
<td><p>12.3</p></td>
<td><p>18.5</p></td>
<td><p>2.6</p></td>
</tr>
<tr class="row-even"><td><p>Rmerge</p></td>
<td><p>0.113</p></td>
<td><p>0.096</p></td>
<td><p>0.564</p></td>
</tr>
<tr class="row-odd"><td><p>Rmeas(I)</p></td>
<td><p>0.129</p></td>
<td><p>0.118</p></td>
<td><p>0.633</p></td>
</tr>
<tr class="row-even"><td><p>Rmeas(I+/-)</p></td>
<td><p>0.121</p></td>
<td><p>0.105</p></td>
<td><p>0.679</p></td>
</tr>
<tr class="row-odd"><td><p>Rpim(I)</p></td>
<td><p>0.034</p></td>
<td><p>0.038</p></td>
<td><p>0.267</p></td>
</tr>
<tr class="row-even"><td><p>Rpim(I+/-)</p></td>
<td><p>0.043</p></td>
<td><p>0.041</p></td>
<td><p>0.368</p></td>
</tr>
<tr class="row-odd"><td><p>Wilson B factor</p></td>
<td><p>12.131</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Anomalous completeness</p></td>
<td><p>93.3</p></td>
<td><p>52.6</p></td>
<td><p>58.0</p></td>
</tr>
<tr class="row-odd"><td><p>Anomalous multiplicity</p></td>
<td><p>6.4</p></td>
<td><p>5.0</p></td>
<td><p>2.0</p></td>
</tr>
<tr class="row-even"><td><p>Anomalous correlation</p></td>
<td><p>0.544</p></td>
<td><p>0.791</p></td>
<td><p>-0.297</p></td>
</tr>
<tr class="row-odd"><td><p>Anomalous slope</p></td>
<td><p>1.085</p></td>
<td><p>0.000</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>Total observations</p></td>
<td><p>118588</p></td>
<td><p>529</p></td>
<td><p>1634</p></td>
</tr>
<tr class="row-odd"><td><p>Total unique</p></td>
<td><p>9749</p></td>
<td><p>63</p></td>
<td><p>337</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>From these it is clear that
there is something wrong: it is very unusual to have near atomic resolution
diffraction with ∼10% Rmerge in the low resolution bin. The most likely reasons
are incorrect assignment of the pointgroup and radiation damage - the
latter of which is clear from the analysis of Rmerge as a function of image
number:</p>
<img alt="_images/3qrn-all-rmerge-aimless.png" src="_images/3qrn-all-rmerge-aimless.png" />
<p>From the cumulative completeness as a function of frame number
it is clear that the data were essentially
complete after approximately 200 frames, though the low resolution
completeness is poor:</p>
<img alt="_images/3qrn-all-complete-aimless.png" src="_images/3qrn-all-complete-aimless.png" />
<section id="modifying-input">
<h2>Modifying input<a class="headerlink" href="#modifying-input" title="Permalink to this heading">¶</a></h2>
<p>From the example it would seem sensible to investigate processing only
the first 200 of the 450 images. While it is usual to limit the batch range in
scaling when processing the data manually, xia2 is not set up to work like
this as decisions made for the full data set (e.g. scaling model to use) may
differ from those for the subset - we therefore need to rerun the whole xia2
job after modifying the input. It is easy to do this using the
<code class="docutils literal notranslate"><span class="pre">image=/path/to/image_001.img:start:end</span></code> syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xia2</span> <span class="n">pipeline</span><span class="o">=</span><span class="mi">3</span><span class="n">d</span> <span class="n">image</span><span class="o">=/</span><span class="n">dls</span><span class="o">/</span><span class="n">i02</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="mi">2011</span><span class="o">/</span><span class="n">mx1234</span><span class="o">-</span><span class="mi">5</span><span class="o">/</span><span class="n">K5_M1S3_3_001</span><span class="o">.</span><span class="n">img</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span>
</pre></div>
</div>
<p>giving the following merging statistics:</p>
<blockquote>
<div><table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>High resolution limit</p></td>
<td><p>1.22</p></td>
<td><p>6.34</p></td>
<td><p>1.22</p></td>
</tr>
<tr class="row-even"><td><p>Low resolution limit</p></td>
<td><p>19.62</p></td>
<td><p>19.62</p></td>
<td><p>1.24</p></td>
</tr>
<tr class="row-odd"><td><p>Completeness</p></td>
<td><p>86.9</p></td>
<td><p>49.1</p></td>
<td><p>37.8</p></td>
</tr>
<tr class="row-even"><td><p>Multiplicity</p></td>
<td><p>5.3</p></td>
<td><p>4.9</p></td>
<td><p>1.7</p></td>
</tr>
<tr class="row-odd"><td><p>I/sigma</p></td>
<td><p>20.1</p></td>
<td><p>37.0</p></td>
<td><p>2.3</p></td>
</tr>
<tr class="row-even"><td><p>Rmerge</p></td>
<td><p>0.036</p></td>
<td><p>0.020</p></td>
<td><p>0.355</p></td>
</tr>
<tr class="row-odd"><td><p>Rmeas(I)</p></td>
<td><p>0.060</p></td>
<td><p>0.038</p></td>
<td><p>0.448</p></td>
</tr>
<tr class="row-even"><td><p>Rmeas(I+/-)</p></td>
<td><p>0.043</p></td>
<td><p>0.023</p></td>
<td><p>0.491</p></td>
</tr>
<tr class="row-odd"><td><p>Rpim(I)</p></td>
<td><p>0.023</p></td>
<td><p>0.014</p></td>
<td><p>0.297</p></td>
</tr>
<tr class="row-even"><td><p>Rpim(I+/-)</p></td>
<td><p>0.022</p></td>
<td><p>0.011</p></td>
<td><p>0.339</p></td>
</tr>
<tr class="row-odd"><td><p>Wilson B factor</p></td>
<td><p>10.70</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Anomalous completeness</p></td>
<td><p>77.7</p></td>
<td><p>41.0</p></td>
<td><p>18.3</p></td>
</tr>
<tr class="row-odd"><td><p>Anomalous multiplicity</p></td>
<td><p>2.7</p></td>
<td><p>3.5</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-even"><td><p>Anomalous correlation</p></td>
<td><p>0.779</p></td>
<td><p>0.931</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>Anomalous slope</p></td>
<td><p>1.553</p></td>
<td><p>0.000</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>Total observations</p></td>
<td><p>50875</p></td>
<td><p>272</p></td>
<td><p>342</p></td>
</tr>
<tr class="row-odd"><td><p>Total unique</p></td>
<td><p>9552</p></td>
<td><p>55</p></td>
<td><p>199</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>These are clearly much more internally
consistent and give nice results from experimental phasing though
with very poor low resolution completeness. At the same time we may wish
to adjust the resolution limits to give more complete data in the outer shell,
which may be achieved by setting the <code class="docutils literal notranslate"><span class="pre">d_min=</span></code> paramater on the command line.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/xia2-new-logo.gif" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_xia2.html">Using xia2</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introductory example</a></li>
<li class="toctree-l1"><a class="reference internal" href="insulin_tutorial.html">Insulin tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_crystal.html">Multi-crystal data</a></li>
<li class="toctree-l1"><a class="reference internal" href="serial_crystallography.html">Serial-crystallography</a></li>
<li class="toctree-l1"><a class="reference internal" href="program_output.html">Program output</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="comments.html">Comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="background.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer container">
  <a href="http://www.diamond.ac.uk/"><img class="logofooter" alt="Diamond" src="_static/diamond_logo.png" /></a>
  <a href="http://dials.diamond.ac.uk/"><img class="logofooter" alt="DIALS" src="_static/dials_logo_fx_transparent_bg.png" /></a>
  <a href="http://www.ccp4.ac.uk/"><img class="logofooter" alt="CCP4" src="_static/CCP4-logo-plain.png" /></a>
  </div>
  
    <div class="footer">
      &copy;2020, Diamond Light Source.
      
    </div>

    

    

  </body>
</html>